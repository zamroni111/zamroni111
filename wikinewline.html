<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Custom Modification in Wikipedia to Make Each Sentence Starts at New Line</title>
	<style>
* {
	color-scheme: dark;

}

table {
	width: 100%;
}

img {
	object-fit: scale-down
}
	</style>
</head>

<body>

	<p>Previously, I posted <a href="https://ma-zamroni.blogspot.com/2022/08/new-line-for-every-sentence.html" target="_blank">article about having each new sentence starts at new line increase readability</a>.<br>
		We can also make Wikipedia pages to be that way for both desktop and mobile mode, as seen in screenshots below, by adding custom Javascript in user preference setting.<br>
		You will need to create Wikipedia username and login using that username to be able to store the custom Javascript.<br>
		I will also add steps to enable Dark mode and change font color to Red Orange to further enhance readability.</p>
	<p>Sample screenshots comparison between default and new-lines pages using Wikipedia page <i>https://en.wikipedia.org/wiki/Tensor_(machine_learning)</i></p>
	<table>
		<tr>
			<th>New-lined Mobile Mode</th>
			<th style="  white-space: nowrap;">&nbsp;&nbsp;&nbsp;</th>
			<th>Default Mobile Mode</th>
		</tr>
		<tr style="vertical-align:top">
			<td style="width:47%">
				<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhfgB1gw5WcjTgwK-20Ntm9roRqWmKzt908JvOd8dSfgwQ-8WSblbZk2RbOzlWKs-TqTDDStin8oRnTVBOva8btSRWsrY4BgLPiRXk53SgZR4cA5dvJDWpLVIBWgsQtANqB6Wt4iljC1tSgvknRk0J8YKAeTVKp-CidnvEjN6FXD6JF9d2q0nHvwUhPNLY/s1600/Screenshot_20241028_000627_Edge.png" />
			</td>
			<td></td>
			<td style="width:47%">
				<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiqyrzwIQs7JniQbWNjmySwafxbY6GbVRd-JVKuUZ4iFKEArUDsNkO5cgYIIybwuuECXVF4vWrhyopF4i4A7jtEpwDAucrnAgbjapTFLg-eS_DzM39ywMaepUtZJJKQbl7GEV12GmhJIoKBR4xsuvLDjxE2iVwGBiA1CHAV2HkmVwo4ljSYoGuaL0cXh5s/s1600/Screenshot_20241024_150445_Chrome.png" />
			</td>
		</tr>
		<tr>
			<th>New-lined Desktop Mode</th>
			<th></th>
			<th>Default Desktop Mode</th>
		</tr>
		<tr style="vertical-align:top">
			<td style="width:47%">
				<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhRUHuWeQQq7-vc6KPQmcOXF2EQzKrOa2hrR2BL2SBD9_G8KNbEbT60SBSD1GCZWcVwpadS20Oe_kLG36LOQ5lHIrSOxv21Q3MtI-cW4Yc_x4jgMerlLV6QaOlJ9C-v7l9dHnJbc1Gl1qSw4RVQazKUT0YMCT9OPrpwYF7z31Vp7GaDN-tZdT4RUKqg0dk/s1600/image.png" />
			</td>
			<td></td>
			<td style="width:47%">
				<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg6M6ygzYEvmsSez2zSArFRbONjUpsavucUCks1wyBGTtSUJg8rOk7XMQg_Oz_4DoVSNhrGTjdf9Wp3WD56I8Gs0kPK4-Pyf24vKXZNY3bhYlckfwvcWXxx2lAQzH3JCe-Km3vb9qNXyj9kOjOtQKWfoN391TdPEAV2sZjaYSg0ZBlBd2MU01bSrHVL3u8/s1600/image.png" />
			</td>
		</tr>
	</table>
	<h1>Configuration Steps:</h1>
	<ol>
		<li>Open Wikipedia, login then open User Preferences page:<br>
			<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhXF8SobwGxB2P9Ueqwvuec6uWmrK-acV7M_Rz1sOiLmy86RFoPSrf5dKnaKPKCbuGZjHERtNVYXRQMaCjTNEepyemBDrFgVcNHu0HVpvwzdKKh26tUsErrhZu4L2XoSXRc-kW6KlWx9udFv3EDe7QhPoH_8rqNim0Z0kceZzcAZENCFgylpVVF8Kicz2A/s1600/userpref.png" />
		</li>

		<li>Put code below into <b>Custom Javascript</b>.<br>
			It adds "&lt;br&gt;", such as ".&nbsp;AAA" to ".&lt;br&gt;AAA" and footnote link "AAA&lt;/sup&gt;&nbsp;BBB" to "AAA&lt;/sup&gt;&lt;br&gt;BBB"<br>
			<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEikvYH4eYT6Leh-CFr47IxfFXyBJUZeAC8zEXGNPoNC93IDpdFjdJvshZAVUNfQypIxl5MxAPUQqcy8_L-Sdz4E111P8WGl1leMaFe5z9QRJMJKPfdv7gYnwC17X0dKaWQGmcvCdjd7MUaUdLVeLaMRvRrAoQ8ne0Rhim6HMpH9H9jaxTvfOlEi_1OE3-U/s1600/jspic2.png" />
		</li>
		<pre style="color:lime;font-size:0.8em;text-wrap:wrap">
"use strict";
mw.loader.using('mediawiki.user', function() {
	let paragraphtags = ["p", "td", "li"];
	let newp = document.createElement("p");

	for (let temptag of paragraphtags) {
		for (let tempobj of document.getElementsByTagName(temptag)) {
			tempobj.innerHTML = tempobj.innerHTML.
			replaceAll(". ", '. newlinemark ').
			replaceAll("; ", '; newlinemark ').
			replaceAll('." ', '." newlinemark ').
			replaceAll("&lt;/sup&gt; ", '&lt;/sup&gt; newlinemark ').
			replaceAll(" newlinemark (", " (");

			let tempstring = "";
			let wordcount = 0;

			for (let tempitem of tempobj.innerHTML.split(/\snewlinemark\s/)) {
				newp.innerHTML = tempitem;

				let tempvar = newp.innerText.replace(/\x5B\S+\x5D/g, "").
				replace(/\x5B\S+\s+\S+\x5D/g, "").trim();

				wordcount += tempvar.split(/\s+/).length;
				if (
					wordcount &gt; 3 &&
					tempvar.search(
						/( [A-Z][^A-Z]{0,2}| etc| vs|\x2E\S|\x2E\W\S+)(\x2E|\x2E\x22|\x3B)$/
					) === -1 &&
					tempvar.search(/(\S\S|\S\s\d+)(\x2E|\x2E\x22|\x3B)$/) !== -1 &&
					newp.innerText.search(/\x5D\x3B$/) === -1
				) {
					tempstring += tempitem + "&lt;br/&gt;";
					wordcount = 0;
				}
				else tempstring += tempitem + " ";
			}

			tempobj.innerHTML = tempstring.replaceAll("&lt;br/&gt;&lt;sup ", "&lt;sup ");
		}
	}
})
</pre>
		<li>Change color scheme to <b>Dark</b> then put code below into <b>Custom CSS</b> to change text color to Red Orange.<br>
			<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiWzrGcu6FlnI6GcS9ZlRXuGRik9qqWf4zesqEA2WMusrq6qBeXVCNKKUnwA11ROnhg9qCmvmbuM6kfSj4ufcePxLu3T1o2V-G2EGOd2PjO6H7Uzykztdw8gg3SM3sQSxi_g-n20zWmg2aUz-JT7ba2Klq7XNbb9kbONqYDQWzB88_46vAGSI3hlZBI8i8/s1600/csspic.png" />
		</li>
		<pre style="color:lime;font-size:0.8em;overflow-wrap:anywhere;text-wrap:wrap">div, td {
	color: #FF4500
}
</pre>
		<li>DONE.<br>
			<a href="https://en.wikipedia.org/wiki/Main_Page" target="_blank">Open a Wikipedia page to see the result.</a>
		</li>

	</ol>
	<p>My other articles:<br>
		<a target="_blank" href="https://www.linkedin.com/in/zamroni/details/featured/">https://www.linkedin.com/in/zamroni/details/featured/</a>
	</p>


</body>

</html>
